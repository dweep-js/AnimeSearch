import{W as D,X as O,Y as k,A as I,Z as T,_ as V,$ as W,a0 as Y,a1 as b,F as E,D as N,B,k as p,a2 as H,a3 as M,a4 as $,a5 as q,a6 as C,a7 as P,a8 as j,h as F,p as X,j as m,x as Z,m as z,c as G}from"./runtime.BNbdORXG.js";import{b as J}from"./disclose-version.CFVu6O2Z.js";const K=new Set,R=new Set;function Q(r,t,o,i){function n(a){if(i.capture||g.call(t,a),!a.cancelBubble)return o.call(this,a)}return r.startsWith("pointer")||r.startsWith("touch")||r==="wheel"?O(()=>{t.addEventListener(r,n,i)}):t.addEventListener(r,n,i),n}function er(r,t,o,i,n){var a={capture:i,passive:n},d=Q(r,t,o,a);(t===document.body||t===window||t===document)&&D(()=>{t.removeEventListener(r,d,a)})}function g(r){var L;var t=this,o=t.ownerDocument,i=r.type,n=((L=r.composedPath)==null?void 0:L.call(r))||[],a=n[0]||r.target,d=0,_=r.__root;if(_){var f=n.indexOf(_);if(f!==-1&&(t===document||t===window)){r.__root=t;return}var l=n.indexOf(t);if(l===-1)return;f<=l&&(d=f)}if(a=n[d]||r.target,a!==t){k(r,"currentTarget",{configurable:!0,get(){return a||o}});try{for(var h,u=[];a!==null;){var s=a.assignedSlot||a.parentNode||a.host||null;try{var e=a["__"+i];if(e!==void 0&&!a.disabled)if(I(e)){var[c,...w]=e;c.apply(a,[r,...w])}else e.call(a,r)}catch(v){h?u.push(v):h=v}if(r.cancelBubble||s===t||s===null)break;a=s}if(h){for(let v of u)queueMicrotask(()=>{throw v});throw h}}finally{r.__root=t,delete r.currentTarget}}}const U=["touchstart","touchmove"];function x(r){return U.includes(r)}function nr(r,t){t!==(r.__t??(r.__t=r.nodeValue))&&(r.__t=t,r.nodeValue=t==null?"":t+"")}function rr(r,t){return A(r,t)}function sr(r,t){T(),t.intro=t.intro??!1;const o=t.target,i=m,n=p;try{for(var a=V(o);a&&(a.nodeType!==8||a.data!==W);)a=Y(a);if(!a)throw b;E(!0),N(a),B();const d=A(r,{...t,anchor:a});if(p===null||p.nodeType!==8||p.data!==H)throw M(),b;return E(!1),d}catch(d){if(d===b)return t.recover===!1&&$(),T(),q(o),E(!1),rr(r,t);throw d}finally{E(i),N(n)}}const y=new Map;function A(r,{target:t,anchor:o,props:i={},events:n,context:a,intro:d=!0}){T();var _=new Set,f=u=>{for(var s=0;s<u.length;s++){var e=u[s];if(!_.has(e)){_.add(e);var c=x(e);t.addEventListener(e,g,{passive:c});var w=y.get(e);w===void 0?(document.addEventListener(e,g,{passive:c}),y.set(e,1)):y.set(e,w+1)}}};f(C(K)),R.add(f);var l=void 0,h=P(()=>{var u=o??t.appendChild(j());return F(()=>{if(a){X({});var s=G;s.c=a}n&&(i.$$events=n),m&&J(u,null),l=r(u,i)||{},m&&(Z.nodes_end=p),a&&z()}),()=>{var c;for(var s of _){t.removeEventListener(s,g);var e=y.get(s);--e===0?(document.removeEventListener(s,g),y.delete(s)):y.set(s,e)}R.delete(f),S.delete(l),u!==o&&((c=u.parentNode)==null||c.removeChild(u))}});return S.set(l,h),l}let S=new WeakMap;function ir(r){const t=S.get(r);t&&t()}export{er as e,sr as h,rr as m,nr as s,ir as u};
